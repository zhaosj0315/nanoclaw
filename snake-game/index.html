<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>NanoClaw Snake</title>
    <style>
        body { background: #0f172a; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; font-family: sans-serif; }
        canvas { background: #1e293b; border: 2px solid #334155; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
        .score { font-size: 2rem; margin-bottom: 1rem; color: #38bdf8; font-weight: bold; }
        .hint { margin-top: 1rem; color: #64748b; }
    </style>
</head>
<body>
    <div class="score">分数: <span id="s">0</span></div>
    <canvas id="g" width="400" height="400"></canvas>
    <div class="hint">使用方向键控制</div>
    <script>
        const c=document.getElementById("g"),x=c.getContext("2d"),s=document.getElementById("s");
        let q=20,g=20,v={x:10,y:10},a={x:15,y:15},dx=0,dy=0,t=[],l=5,p=0;
        function draw(){
            v.x+=dx; v.y+=dy;
            if(v.x<0)v.x=g-1;if(v.x>=g)v.x=0;if(v.y<0)v.y=g-1;if(v.y>=g)v.y=0;
            x.fillStyle="#1e293b";x.fillRect(0,0,c.width,c.height);
            x.fillStyle="#38bdf8";
            for(let i=0;i<t.length;i++){
                x.fillRect(t[i].x*q,t[i].y*q,q-2,q-2);
                if(t[i].x==v.x&&t[i].y==v.y){l=5;p=0;s.innerText=0;}
            }
            t.push({x:v.x,y:v.y});
            while(t.length>l)t.shift();
            if(a.x==v.x&&a.y==v.y){
                l++;p+=10;s.innerText=p;
                a.x=Math.floor(Math.random()*g);
                a.y=Math.floor(Math.random()*g);
            }
            x.fillStyle="#fb7185";
            x.fillRect(a.x*q,a.y*q,q-2,q-2);
        }
        document.addEventListener("keydown",e=>{
            if(e.key=="ArrowUp"&&dy!=1){dx=0;dy=-1}
            if(e.key=="ArrowDown"&&dy!=-1){dx=0;dy=1}
            if(e.key=="ArrowLeft"&&dx!=1){dx=-1;dy=0}
            if(e.key=="ArrowRight"&&dx!=-1){dx=1;dy=0}
        });
        setInterval(draw,100);
    </script>
</body>
</html>
